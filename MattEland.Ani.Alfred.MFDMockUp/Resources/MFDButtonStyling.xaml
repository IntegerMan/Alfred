<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Brush x:Key="MFDBorderBrush">#404445</Brush>
    <Brush x:Key="MFDInnerBorderBrush">#DFE3E6</Brush>
    <Brush x:Key="MFDBackgroundBrush">#9A9FA2</Brush>
    
    <Brush x:Key="MFDBorderPressedBrush">#313434</Brush>
    <Brush x:Key="MFDInnerBorderPressedBrush">#D1D5D8</Brush>
    <Brush x:Key="MFDBackgroundPressedBrush">#8B8F92</Brush>

    <Brush x:Key="MFDMouseOverBorderBrush">#4B4F51</Brush>
    <Brush x:Key="MFDMouseOverInnerBorderBrush">#EBEFF2</Brush>
    <Brush x:Key="MFDMouseOverBackgroundBrush">#A6ABAE</Brush>
    

    <ControlTemplate x:Key="MFDButtonTemplate" TargetType="{x:Type Button}">

        <Border x:Name="outerBorder" 
                BorderBrush="{TemplateBinding BorderBrush}" 
                BorderThickness="{TemplateBinding BorderThickness}" 
                Background="{TemplateBinding Background}" 
                SnapsToDevicePixels="True">

            <Border x:Name="innerBorder"
                Margin="2" 
                Padding="2" 
                BorderBrush="{StaticResource MFDInnerBorderBrush}" 
                BorderThickness="1" 
                CornerRadius="2">

                <ContentPresenter x:Name="contentPresenter"
                              ContentTemplate="{TemplateBinding ContentTemplate}" 
                              Content="{TemplateBinding Content}" 
                              ContentStringFormat="{TemplateBinding ContentStringFormat}" 
                              Focusable="False" 
                              HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" 
                              Margin="{TemplateBinding Padding}" 
                              RecognizesAccessKey="True" 
                              SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" 
                              VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
            </Border>
        </Border>
        <ControlTemplate.Triggers>

            <Trigger Property="IsDefaulted" Value="True">
                <Setter Property="BorderBrush" TargetName="outerBorder" 
                    Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}"/>
            </Trigger>

            <Trigger Property="IsMouseOver" Value="True">
                <Setter Property="Background" TargetName="outerBorder" 
                    Value="{StaticResource MFDMouseOverBackgroundBrush}"/>
                <Setter Property="BorderBrush" TargetName="outerBorder" 
                    Value="{StaticResource MFDMouseOverBorderBrush}"/>
                <Setter Property="BorderBrush" TargetName="innerBorder" 
                    Value="{StaticResource MFDMouseOverInnerBorderBrush}"/>
            </Trigger>

            <Trigger Property="IsPressed" Value="True">
                <Setter Property="Background" TargetName="outerBorder" 
                    Value="{StaticResource MFDBackgroundPressedBrush}"/>
                <Setter Property="BorderBrush" TargetName="outerBorder" 
                    Value="{StaticResource MFDBorderPressedBrush}"/>
                <Setter Property="BorderBrush" TargetName="innerBorder" 
                    Value="{StaticResource MFDInnerBorderPressedBrush}"/>
            </Trigger>

            <Trigger Property="ToggleButton.IsChecked" Value="True">
                <Setter Property="Background" TargetName="outerBorder" 
                    Value="{StaticResource MFDMouseOverBackgroundBrush}"/>
                <Setter Property="BorderBrush" TargetName="outerBorder" 
                        Value="{StaticResource MFDInnerBorderBrush}"/>
            </Trigger>

            <Trigger Property="IsEnabled" Value="False">
                <Setter Property="Background" TargetName="outerBorder" 
                    Value="{StaticResource MFDBackgroundBrush}"/>

                <Setter Property="BorderBrush" TargetName="outerBorder" 
                    Value="{StaticResource MFDBorderBrush}"/>

                <Setter Property="BorderBrush" TargetName="innerBorder" 
                    Value="{StaticResource DisabledTextBrush}"/>

                <Setter Property="TextElement.Foreground" 
                        TargetName="contentPresenter" 
                        Value="{StaticResource DisabledTextBrush}"/>
            </Trigger>

        </ControlTemplate.Triggers>
    </ControlTemplate>

    <Style x:Key="MFDButtonStyle" TargetType="{x:Type Button}">
        <Setter Property="Margin" Value="2" />
        <Setter Property="Width" Value="35" />
        <Setter Property="Height" Value="35" />
        <Setter Property="Foreground" Value="{StaticResource MFDInnerBorderBrush}" />
        <Setter Property="Background" Value="{StaticResource MFDBackgroundBrush}" />
        <Setter Property="BorderBrush" Value="{StaticResource MFDBorderBrush}" />
        <Setter Property="Template" Value="{StaticResource MFDButtonTemplate}" />
        <Setter Property="SnapsToDevicePixels" Value="True" />
    </Style>

</ResourceDictionary>