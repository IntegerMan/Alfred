<Application x:Class="MattEland.Ani.Alfred.WPF.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             DispatcherUnhandledException="OnUnhandledException"
             xmlns:widgets="clr-namespace:MattEland.Ani.Alfred.Core.Widgets;assembly=MattEland.Ani.Alfred.Core"
             StartupUri="MainWindow.xaml">
    <Application.Resources>

        <!-- Converters -->
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />

        <!-- TODO: Add common colors here -->

        <!-- Widget DataTemplates -->

        <!-- TextWidget Template -->
        <DataTemplate DataType="{x:Type widgets:TextWidget}">
            <TextBlock 
                Margin="0, 8"
                Visibility="{Binding Path=IsVisible, Converter={StaticResource ResourceKey=BooleanToVisibilityConverter}}"
                Text="{Binding Text}"
                ToolTip="{Binding Text}"/>
        </DataTemplate>

        <!-- AlertWidget Template -->
        <DataTemplate DataType="{x:Type widgets:WarningWidget}">
            <Border 
                Padding="8" 
                HorizontalAlignment="Stretch"
                Background="BlanchedAlmond" 
                BorderThickness="1" 
                BorderBrush="DarkGoldenrod"
                Visibility="{Binding Path=IsVisible, Converter={StaticResource ResourceKey=BooleanToVisibilityConverter}}">
                
                <TextBlock Text="{Binding Text}" ToolTip="{Binding Text}"/>
                
            </Border>
        </DataTemplate>

        <!-- Fallback type of widget Template -->
        <DataTemplate DataType="{x:Type widgets:AlfredWidget}">

            <!-- TODO: Let's use some red styling to draw attention to the not implemented template -->

            <TextBlock 
                Visibility="{Binding Path=IsVisible, Converter={StaticResource ResourceKey=BooleanToVisibilityConverter}}"
                Text="This is an unknown type of Widget" />

        </DataTemplate>

    </Application.Resources>
</Application>
